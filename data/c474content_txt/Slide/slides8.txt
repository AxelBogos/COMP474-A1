b'Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.1Lecture 8Intelligent AgentsCOMP 474/6741, Winter 2021Ren\xc3\xa9 WitteDepartment of Computer Scienceand Software EngineeringConcordia UniversityRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.2Outline1 Introduction2 Search-Based Bots3 Pattern-Matching Bots4 Grounding-Based Bots5 Chatbot Design6 Notes and Further ReadingRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.3Intelligent Conversational Agents\xe2\x80\xa2 A software program that can interpret andrespond to statements made by users in anatural language\xe2\x80\xa2 Different types of chatbots\xe2\x80\xa2 Generic vs. Goal-oriented\xe2\x80\xa2 Retrieval vs. Generative (Deep Learning)\xe2\x80\xa2 Similar architecture, different stacksRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.4Siri (2009)https://tomgruber.org/writing/semtech09.htmhttps://tomgruber.org/writing/semtech09.htmRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.5Siri Presentationhttps://vimeo.com/5424527https://vimeo.com/5424527Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.6The Chatbots LandscapeRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.7Chatbot ApproachesModern approachesPattern matching: Regex matching and response templates (canned responses)Grounding: Knowledge graphs and inference on those graphsSearch: Text retrievalGenerative: Statistics and machine learningHybrid approachesUsing multiple (or all four) techniques in one botRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.8Chatbot ApplicationsExamplesQuestion answering: Google Search, Alexa, Siri, WatsonVirtual assistants: Google Assistant, Alexa, Siri, MS paperclipConversational: Google Assistant, Google Smart Reply, Mitsuki BotMarketing: Twitter bots, blogger bots, Facebook bots, Google Search, GoogleAssistant, Alexa, AlloCustomer service: Storefront bots, technical support botsCommunity management: Bonusly, SlackbotTherapy: Woebot, Wysa, YourDost, Siri, AlloRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.10Chatbot techniques used for some example applicationsCopyright 2019 by Manning Publications Co., [LHH19]Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.11Chatbot recirculating (recurrent) pipelineCopyright 2019 by Manning Publications Co., [LHH19]Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.12Marketing ChatbotsBots promoting movies, TV shows, video games, . . .\xe2\x80\xa2 HBO promoted \xe2\x80\x9cWestworld\xe2\x80\x9d with \xe2\x80\x9cAeden\xe2\x80\x9d\xe2\x80\xa2 Sony promoted \xe2\x80\x9cResident Evil\xe2\x80\x9d with \xe2\x80\x9cRed Queen\xe2\x80\x9d\xe2\x80\xa2 Disney promoted \xe2\x80\x9cZootopia\xe2\x80\x9d with \xe2\x80\x9cOfficer Judy Hopps\xe2\x80\x9d\xe2\x80\xa2 Universal promoted \xe2\x80\x9cUnfriended\xe2\x80\x9d with \xe2\x80\x9cLaura Barnes\xe2\x80\x9d\xe2\x80\xa2 Activision promoted \xe2\x80\x9cCall of Duty\xe2\x80\x9d with \xe2\x80\x9cLt. Reyes\xe2\x80\x9dhttps://venturebeat.com/2016/05/03/call-of-duty-infinite-warfares-first-victory-6m-bot-messages-on-facebook/https://venturebeat.com/2016/05/03/call-of-duty-infinite-warfares-first-victory-6m-bot-messages-on-facebook/Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.13Leena.aiHR chatbot answering employees questionshttps://techcrunch.com/2018/06/29/leena-ai-builds-hr-chat-bots-to-answer-policy-questions-automatically/https://techcrunch.com/2018/06/29/leena-ai-builds-hr-chat-bots-to-answer-policy-questions-automatically/Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.14Leena.ai Use Casehttps://www.youtube.com/watch?v=aiuDC2OSIYEhttps://www.youtube.com/watch?v=aiuDC2OSIYERen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.15https://inc42.com/buzz/y-combinator-graduate-hrtech-startup-leena-ai-raises-2-mn-seed-fund/https://inc42.com/buzz/y-combinator-graduate-hrtech-startup-leena-ai-raises-2-mn-seed-fund/Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.16https://www.theguardian.com/technology/2016/jun/28/chatbot-ai-lawyer-donotpay-parking-tickets-london-new-yorkhttps://www.theguardian.com/technology/2016/jun/28/chatbot-ai-lawyer-donotpay-parking-tickets-london-new-yorkRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.17Perceived Business Benefits\xe2\x80\xa2 \xe2\x80\x9cTop 5 Emerging Technologies in 2018\xe2\x80\x9d(Gartner)\xe2\x80\xa2 Global Market to reach $1-3B by 2025,CAGR of 25-40%\xe2\x80\xa2 Huge benefits across the value chain:\xe2\x80\xa2 Sales & Marketing\xe2\x80\xa2 HR & Operations\xe2\x80\xa2 Service & Payment\xe2\x80\xa2 Retention & GrowthRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.18https://techcrunch.com/2021/03/10/heyday-seed-funding-2/https://techcrunch.com/2021/03/10/heyday-seed-funding-2/Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.19Edubotshttps://www.edubots.eu\xe2\x86\x92 Worksheet #7: Task 1https://www.edubots.euRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.20Outline1 Introduction2 Search-Based Bots3 Pattern-Matching Bots4 Grounding-Based Bots5 Chatbot Design6 Notes and Further ReadingRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.21Basic approachInformation Retrieval-based ApproachGiven a corpus of previously answered questions\xe2\x80\xa2 Create tf-idf vector of the question\xe2\x80\xa2 Compute cosine similarity with either:\xe2\x80\xa2 tf-idf vectors of answers (if only answers available)\xe2\x80\xa2 tf-idf vectors of questions (if question/answer pairs available)Example Dataset1.4 million answered questions from Amazon:https://jmcauley.ucsd.edu/data/amazon/qa/https://jmcauley.ucsd.edu/data/amazon/qa/QnA Maker (Microsoft)https://www.qnamaker.ai/https://www.qnamaker.ai/Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.23QnA Maker: Examplehttps://docs.microsoft.com/en-us/azure/cognitive-services/QnAMaker/quickstarts/create-publish-knowledge-base?tabs=v1https://docs.microsoft.com/en-us/azure/cognitive-services/QnAMaker/quickstarts/create-publish-knowledge-base?tabs=v1Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.24Outline1 Introduction2 Search-Based Bots3 Pattern-Matching Bots4 Grounding-Based Bots5 Chatbot Design6 Notes and Further ReadingRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.25Eliza ExampleEliza + DOCTOR scriptIf the input sentence is:I am very unhappy these days.Eliza\xe2\x80\x99s response will be:How long have you been very unhappy these days?ProcessingKeyword:I amDecomposition pattern:I am <whatever>Reassembly Pattern:How long have you been <whatever>?Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.26Pattern-response matching"(.*)?do you remember (.*)?": ["Did you think I would forget $2?","Why do you think I should recall $2 now?","What about $2?","You mentioned $2",],"(.*)?my mother (.*)?": ["Who else in your family $2?","Tell me more about your family",],"(.*)?why don\xe2\x80\x99t you (.*)?": ["Should you $2 yourself?","Do you believe I don\xe2\x80\x99t $2?","Perhaps I will $2 in good time",],Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.27Regular ExpressionsFinite State MachineA.k.a deterministic finite automaton (DFA).Copyright by Dnu72 (https://commons.wikimedia.org/wiki/File:Automata_theory.svg), \xe2\x80\x9cAutomata theory\xe2\x80\x9d, licensed under https://creativecommons.org/licenses/by- sa/3.0/legalcodehttps://commons.wikimedia.org/wiki/File:Automata_theory.svghttps://creativecommons.org/licenses/by-sa/3.0/legalcodeRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.28Regular ExpressionsBasic Concepts (https://en.wikipedia.org/wiki/Regular_expression)Boolean "or": A vertical bar separates alternatives. For example, gray|grey can match\xe2\x80\x9cgray\xe2\x80\x9d or \xe2\x80\x9cgrey\xe2\x80\x9d.Grouping: Parentheses are used to define the scope and precedence of the operators(among other uses). For example, gray|grey and gr(a|e)y are equivalentpatterns which both describe the set of "gray" or "grey".Quantification: A quantifier after a token (such as a character) or group specifies how oftenthat a preceding element is allowed to occur:\xe2\x80\xa2 ? The question mark indicates zero or one occurrences of the precedingelement. For example, colou?r matches both "color" and "colour".\xe2\x80\xa2 * The asterisk indicates zero or more occurrences of the precedingelement. For example, ab*c matches "ac", "abc", "abbc", "abbbc", andso on.\xe2\x80\xa2 + The plus sign indicates one or more occurrences of the precedingelement. For example, ab+c matches "abc", "abbc", "abbbc", and so on,but not "ac".\xe2\x80\xa2 {n} The preceding item is matched exactly n times.\xe2\x80\xa2 {min,} The preceding item is matched min or more times.\xe2\x80\xa2 {min,max} The preceding item is matched at least min times, but notmore than max times.\xe2\x86\x92 Worksheet #7: Task 2https://en.wikipedia.org/wiki/Regular_expression)Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.29Artificial Intelligence Markup Language (AIML)Towards Chatbot Frameworks\xe2\x80\xa2 Open standard, started in 1995 by Richard Wallace et al.\xe2\x80\xa2 Used in the A.L.I.C.E. chatbot (and many others)\xe2\x80\xa2 Using XML-based patterns\xe2\x80\xa2 AIML kernel loads patterns and responds when match is foundExample<category><pattern>HELLO *</pattern><template>Hi, human!</template></category><category><pattern>WHAT IS YOUR NAME</pattern><template>I am ConUBot, your helpful assistant.</template></category>Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.30AIML Examples (v2.0)<?xml version="1.0" encoding="UTF-8"?><aiml version="2.0"><category><pattern>HI</pattern><template>Hi!</template></category><category><pattern>[HELLO HI YO YOH YO\xe2\x80\x99][ROSA ROSE CHATTY CHATBOT BOT CHATTERBOT]</pattern><template>Hi , How are you?</template></category><category><pattern>[HELLO HI YO YOH YO\xe2\x80\x99 \xe2\x80\x99SUP SUP OK HEY][HAL YOU U YALL Y\xe2\x80\x99ALL YOUS YOUSE]</pattern><template>Good one.</template></category></aiml>(from [LHH19, Chapter 12])Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.31Python & AIMLPython Implementations\xe2\x80\xa2 E.g., PyAiml, aiml, aiml_bot\xe2\x80\xa2 Support AIML 1.0 only :(<?xml version="1.0" encoding="UTF-8"?><aiml version="1.0.1"><category><pattern>HELLO *</pattern><template>Hi Human!</template></category><category><pattern>HELLO TROLL</pattern><template>Good one, human.</template></category></aiml>Using aiml_botimport aiml_botbot = aiml_bot.Bot(learn="conubot.aiml")In : bot.respond("Hello Conubot!!!")Out: \xe2\x80\x99Hi Human!\xe2\x80\x99See https://pypi.org/project/AIML-Bot/https://pypi.org/project/AIML-Bot/Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.32Random answers<?xml version="1.0" encoding="UTF-8"?><aiml version="1.0.1"><category><pattern>HELLO *</pattern><template><random><li>Hi Human!</li><li>Hi there!</li><li>Hello!</li></random></template></category><category><pattern>HELLO TROLL</pattern><template><random><li>Good one, human.</li><li>Clever!</li></random></template></category></aiml>Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.33Sessions and Predicates<aiml version="1.0.1" encoding="UTF-8"><category><pattern>MY DOGS NAME IS *</pattern><template>That is interesting that you have a dognamed <set name="dog"><star/></set></template></category><category><pattern>WHAT IS MY DOGS NAME</pattern><template>Your dog\xe2\x80\x99s name is <get name="dog"/>.</template></category></aiml>ExampleMy dogs name is MaxThat is interesting that you have a dog named Max...What is my dogs name?Your dog\xe2\x80\x99s name is Max.https://www.devdungeon.com/content/ai-chat-bot-python-aiml#sessionshttps://www.devdungeon.com/content/ai-chat-bot-python-aiml#sessionsRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.34AIML 2.0 Extensions: Rich media, hyperlinks, ...<card><image>www.png</image><title>Italian Greyhound</title><subtitle>A very good dog</subtitle><button><text>AIML How-To</text><postback>HOW TO</postback></button><button><text>Back To Tour</text><postback>RESUME TOUR</postback></button></card>http://www.aiml.foundation/doc.htmlhttp://www.aiml.foundation/doc.htmlRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.35Pandorabots (https://pandorabots.com)Cloud-based platform for AIML 2.0 botshttps://pandorabots.comRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.36Other bot languagesAPI.aiProprietary, intuitive language for dialog specifications\xe2\x80\xa2 Dialogue history, location and user preferences\xe2\x80\xa2 Developed by startup Speaktoit, released as api.ai in 2014DialogflowAPI.ai was bought by Google in 2016 and renamed in 2017 to Dialogflow\xe2\x80\xa2 Powers Google Assistant and other servicesapi.aiRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.37https://aws.amazon.com/lex/https://aws.amazon.com/lex/Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.38Managing State (Context)Copyright 2019 by Manning Publications Co., [LHH19]Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.39Outline1 Introduction2 Search-Based Bots3 Pattern-Matching Bots4 Grounding-Based BotsQuestion ClassificationNLP PipelinesExample: Watson5 Chatbot Design6 Notes and Further ReadingRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.40GroundingAdding Knowledge\xe2\x80\xa2 Using a knowledge graph when creating answers\xe2\x80\xa2 More scalable than hard-coding every possible answer in patternsFrom the lab exercises...1 What is <X>?E.g., \xe2\x80\x9cWhat is Concordia University?\xe2\x80\x9d2 \xe2\x87\x92 query DBpedia to retrieve the rdfs:comment (in the user\xe2\x80\x99s language) of XConcordia University (commonly referred to as Concordia) is a publiccomprehensive university located in Montreal, Quebec, Canada.Founded in 1974 following the merger of Loyola College and SirGeorge Williams University, Concordia is one of the three universitiesin Quebec where English is the primary language of instruction.Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.41Question-answering WorkflowCopyright 2013 by Manning Publications Co., [IMF13]Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.42Question TypesClassifying QuestionsDifferent types of questions require different SPARQL query structures (ASK,SELECT, using COUNT, etc.)Copyright 2013 by Manning Publications Co., [IMF13]Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.43Question Types (contd.)Copyright 2013 by Manning Publications Co., [IMF13]Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.44Question ClassificationApplying ML\xe2\x80\xa2 What we need is a classifier that takes a question as input and returns the typeas output\xe2\x80\xa2 This is a typical machine learning problem (supervised learning)Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.45Feature ExtractionFeature EngineeringNeed to convert text (here: question) into a feature vector\xe2\x80\xa2 Could use count or tf-idf vector\xe2\x80\xa2 but this results in a high number of dimensions (and possible overfitting)Idea: Reduce DimensionsCan we come up with some other features that can be easily extracted?\xe2\x80\xa2 Length (in words/characters)?\xe2\x80\xa2 Number of words with capital letters?\xe2\x80\xa2 Ends with question mark or not?\xe2\x80\xa2 Number of nouns/verbs?Challenge: find features that facilitate classification.\xe2\x86\x92 Worksheet #7: Tasks 3 & 4Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.46Dimensionality reduction in NLPSome common strategiesStemming: reduce words to their stem (e.g., students, student \xe2\x87\x92 student)Stopword removal: remove stop-words (e.g., the, in, an, a, ...)Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.47Example NLP PipelineCopyright 2019 by Manning Publications Co., [LHH19]Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.48TokenizationTask\xe2\x80\xa2 Split input stream of characters into individual tokens (words, numbers, etc.)\xe2\x80\xa2 Done by a Tokenizer (e.g., the default tokenizer in scikit-learn)Tokenization can be difficult...For example, biomedical documents with complex expressions, chemical formulas,etc.:\xe2\x80\xa2 1,4-\xce\xb2-xylanase II from Trichoderma reesei\xe2\x80\xa2 When N-formyl-L-methionyl-L-leucyl-L-phenylalanine (fMLP) was injected. . .\xe2\x80\xa2 Technetium-99m-CDO-MeB [Bis[1,2-cyclohexanedione-dioximato(1-)-O]-[1,2-cyclohexanedione dioximato(2-)-O]methyl-borato(2-)-N,N\xe2\x80\xb2,N\xe2\x80\xb2\xe2\x80\xb2,N\xe2\x80\xb2\xe2\x80\xb2\xe2\x80\xb2,N\xe2\x80\xb2\xe2\x80\xb2\xe2\x80\xb2\xe2\x80\xb2,N\xe2\x80\xb2\xe2\x80\xb2\xe2\x80\xb2\xe2\x80\xb2\xe2\x80\xb2)-chlorotechnetium) belongs to a familyof compounds. . .Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.49Part-of-Speech (POS) Tagging and ParsingPOS TaggingAssign a POS tag (e.g., Noun, Verb, Adjective, Adverb, ...) to each Token:The/DT big/ADJ dog/NNCan be done reliably, available in NLP libraries (e.g, spaCy or NLTK for Python).ParsingCreate a tree representing a sentence\xe2\x80\x99s grammatical structureYou can then extract subject or object, e.g., to use in a SPARQL query.\xe2\x86\x92 Worksheet #7: Task 5Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.50Generic SPARQL Query GeneratorUnger C, B\xc3\xbchmann L, Lehmann J, Ngonga Ngomo AC, Gerber D, Cimiano P. Template-based questionanswering over RDF data. In Proceedings of the 21st international conference on World Wide Web 2012Apr 16 (pp. 639-648).Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.51Generating SPARQL Queries (I)Steinmetz N, Arning AK, Sattler KU. From natural language questions to SPARQL queries: apattern-based approach. BTW 2019. https://dl.gi.de/handle/20.500.12116/21702https://dl.gi.de/handle/20.500.12116/21702Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.52Generating SPARQL Queries (II)Steinmetz N, Arning AK, Sattler KU. From natural language questions to SPARQL queries: apattern-based approach. BTW 2019. https://dl.gi.de/handle/20.500.12116/21702https://dl.gi.de/handle/20.500.12116/21702Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.53Generating SPARQL Queries: EvaluationRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.54The Stanford Question Answering Dataset (SQuAD)https://rajpurkar.github.io/SQuAD-explorer/\xe2\x86\x92 Worksheet #7: Task 6https://rajpurkar.github.io/SQuAD-explorer/Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.55IBM WatsonWatson is a type of question-answering (QA) system, first developed 2006\xe2\x80\x9320112011 Jeopardy! competition: 2,880 POWER7 threads and 16 terabytes of RAMRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.56IBM Watson: The Science Behind an Answer (2011)https://www.youtube.com/watch?v=_0-priuvAR4https://www.youtube.com/watch?v=_0-priuvAR4Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.57Outline1 Introduction2 Search-Based Bots3 Pattern-Matching Bots4 Grounding-Based Bots5 Chatbot DesignDesign processSummary6 Notes and Further ReadingRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.58Bot Design ProcessUser Stories\xe2\x80\xa2 Develop pairs of user questions \xe2\x80\x93 expected answers\xe2\x80\xa2 Generalize multiple stories with the same themeDevelopment\xe2\x80\xa2 Identify appropriate technology for specific type of question\xe2\x80\xa2 Enhance bot based on approach (e.g., add data for retrieval)Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.59Summary of Chatbot ApproachesCopyright 2019 by Manning Publications Co., [LHH19]\xe2\x86\x92 Worksheet #7: Task 7Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.60Outline1 Introduction2 Search-Based Bots3 Pattern-Matching Bots4 Grounding-Based Bots5 Chatbot Design6 Notes and Further ReadingRen\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.61Reading MaterialRequired\xe2\x80\xa2 [LHH19, Chapter 12] (Dialog engines)Supplemental\xe2\x80\xa2 [IMF13, Chapter 8] (Building a QA System)\xe2\x80\xa2 [RN10, Chapter 26] (Philosophical Foundations)Ren\xc3\xa9 WitteIntroductionIntelligent ConversationalAgentsExamplesSearch-Based BotsPattern-Matching BotsGrounding-Based BotsQuestion ClassificationNLP PipelinesExample: WatsonChatbot DesignDesign processSummaryNotes and FurtherReading8.62References[IMF13] Grant S. Ingersoll, Thomas S. Morton, and Andrew L. Farris.Taming Text: How to find, organise, and manipulate it.Manning, 2013.https://concordiauniversity.on.worldcat.org/oclc/772977853.[LHH19] Hobson Lane, Cole Howard, and Hannes Max Hapke.Natural Language Processing in Action.Manning Publications Co., 2019.https://concordiauniversity.on.worldcat.org/oclc/1102387045.[RN10] Stuart Russell and Peter Norvig.Artificial Intelligence: A Modern Approach.Prentice Hall, 3rd edition, 2010.https://concordiauniversity.on.worldcat.org/oclc/359890490.https://concordiauniversity.on.worldcat.org/oclc/772977853https://concordiauniversity.on.worldcat.org/oclc/1102387045https://concordiauniversity.on.worldcat.org/oclc/359890490\tChatbots\tIntroduction\tIntelligent Conversational Agents\tExamples\tSearch-Based Bots\tPattern-Matching Bots\tGrounding-Based Bots\tQuestion Classification\tNLP Pipelines\tExample: Watson\tChatbot Design\tDesign process\tSummary\tNotes and Further Reading'